<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assistant Scolaire</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url('https://img.freepik.com/vecteurs-libre/fond-bulles-eau-brillante-fond-bleu_1017-26353.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
  }
  header {
    padding: 1rem;
    background: rgba(0,0,0,0.5);
    text-align: center;
    font-size: 1.5rem;
    font-weight: bold;
  }
  nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    padding: 0.5rem;
    background: rgba(0,0,0,0.4);
  }
  nav button {
    flex: 1 1 30%;
    margin: 0.5rem;
    padding: 0.8rem;
    font-size: 1rem;
    border: none;
    border-radius: 8px;
    background: #1e90ff;
    color: #fff;
  }
  section {
    padding: 1rem;
    display: none;
    background: rgba(0,0,0,0.4);
    min-height: 80vh;
  }
  h2 {
    text-align: center;
  }
  .task-item, .flashcard, .quiz-question {
    background: rgba(255,255,255,0.1);
    margin: 0.5rem 0;
    padding: 0.5rem;
    border-radius: 5px;
  }
  input, select, textarea {
    width: 90%;
    padding: 0.5rem;
    margin: 0.5rem 0;
    border-radius: 5px;
    border: none;
  }
  button.action-btn {
    padding: 0.5rem 1rem;
    margin: 0.3rem;
    border: none;
    border-radius: 5px;
    background: #32cd32;
    color: #fff;
  }
</style>
</head>
<body>
<header>Assistant Scolaire</header>
<nav>
  <button onclick="showSection('tasks')">Devoirs</button>
  <button onclick="showSection('flashcards')">Révisions</button>
  <button onclick="showSection('pomodoro')">Pomodoro</button>
  <button onclick="showSection('quiz')">Quiz</button>
  <button onclick="showSection('dictionary')">Dictionnaire</button>
</nav>

<!-- DEVOIRS / TÂCHES -->
<section id="tasks">
  <h2>Devoirs</h2>
  <input type="text" id="taskInput" placeholder="Nouvelle tâche">
  <select id="taskSubject">
    <option value="Français">Français</option>
    <option value="Maths">Mathématiques</option>
    <option value="Sciences">Sciences</option>
    <option value="Histoire">Histoire</option>
    <option value="Anglais">Anglais</option>
    <option value="Technologie">Technologie</option>
  </select>
  <input type="date" id="taskDate">
  <button class="action-btn" onclick="addTask()">Ajouter tâche</button>
  <div id="taskList"></div>
</section>

<!-- FLASHCARDS + QUIZ -->
<section id="flashcards">
  <h2>Révisions / Flashcards</h2>
  <select id="flashSubject">
    <option value="Français">Français</option>
    <option value="Maths">Mathématiques</option>
    <option value="Sciences">Sciences</option>
    <option value="Histoire">Histoire</option>
    <option value="Anglais">Anglais</option>
    <option value="Technologie">Technologie</option>
  </select>
  <input type="text" id="flashQuestion" placeholder="Question">
  <input type="text" id="flashAnswer" placeholder="Réponse">
  <button class="action-btn" onclick="addFlashcard()">Ajouter Flashcard</button>
  <div id="flashcardList"></div>
</section>

<!-- POMODORO -->
<section id="pomodoro">
  <h2>Pomodoro</h2>
  <div>
    <span id="timerDisplay">25:00</span><br>
    <button class="action-btn" onclick="startPomodoro()">Démarrer</button>
    <button class="action-btn" onclick="resetPomodoro()">Réinitialiser</button>
  </div>
</section>

<!-- QUIZ SIMPLE -->
<section id="quiz">
  <h2>Quiz</h2>
  <input type="text" id="quizQuestion" placeholder="Question">
  <input type="text" id="quizAnswer" placeholder="Réponse">
  <button class="action-btn" onclick="addQuiz()">Ajouter Question</button>
  <div id="quizList"></div>
</section>

<!-- DICTIONNAIRE -->
<section id="dictionary">
  <h2>Dictionnaire / Traduction</h2>
  <input type="text" id="dictWord" placeholder="Mot à chercher">
  <button class="action-btn" onclick="searchWord()">Chercher</button>
  <div id="dictResult"></div>
</section>

<script>
// NAVIGATION
function showSection(id){
  document.querySelectorAll('section').forEach(sec => sec.style.display='none');
  document.getElementById(id).style.display='block';
}

// LOCAL STORAGE - DEVOIRS
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
function addTask(){
  const task = document.getElementById('taskInput').value;
  const subject = document.getElementById('taskSubject').value;
  const date = document.getElementById('taskDate').value;
  if(task){
    tasks.push({task, subject, date, done:false});
    localStorage.setItem('tasks', JSON.stringify(tasks));
    document.getElementById('taskInput').value='';
    displayTasks();
  }
}
function displayTasks(){
  const container = document.getElementById('taskList');
  container.innerHTML='';
  tasks.forEach((t,i)=>{
    const div = document.createElement('div');
    div.className='task-item';
    div.innerHTML=`<input type="checkbox" ${t.done?'checked':''} onchange="toggleTask(${i})"> ${t.task} [${t.subject}] - ${t.date}`;
    container.appendChild(div);
  });
}
function toggleTask(i){
  tasks[i].done=!tasks[i].done;
  localStorage.setItem('tasks', JSON.stringify(tasks));
  displayTasks();
}
displayTasks();

// FLASHCARDS
let flashcards = JSON.parse(localStorage.getItem('flashcards')) || [];
function addFlashcard(){
  const question = document.getElementById('flashQuestion').value;
  const answer = document.getElementById('flashAnswer').value;
  const subject = document.getElementById('flashSubject').value;
  if(question && answer){
    flashcards.push({question, answer, subject});
    localStorage.setItem('flashcards', JSON.stringify(flashcards));
    document.getElementById('flashQuestion').value='';
    document.getElementById('flashAnswer').value='';
    displayFlashcards();
  }
}
function displayFlashcards(){
  const container = document.getElementById('flashcardList');
  container.innerHTML='';
  flashcards.forEach((f,i)=>{
    const div = document.createElement('div');
    div.className='flashcard';
    div.innerHTML=`<strong>${f.subject} :</strong> ${f.question} - ${f.answer}`;
    container.appendChild(div);
  });
}
displayFlashcards();

// POMODORO
let pomodoroInterval;
let pomodoroTime = 25*60;
function startPomodoro(){
  clearInterval(pomodoroInterval);
  pomodoroInterval = setInterval(()=>{
    if(pomodoroTime<=0){clearInterval(pomodoroInterval); alert("Temps écoulé !"); pomodoroTime=25*60; displayPomodoro();}
    else{pomodoroTime--; displayPomodoro();}
  },1000);
}
function resetPomodoro(){clearInterval(pomodoroInterval); pomodoroTime=25*60; displayPomodoro();}
function displayPomodoro(){ 
  const min = String(Math.floor(pomodoroTime/60)).padStart(2,'0');
  const sec = String(pomodoroTime%60).padStart(2,'0');
  document.getElementById('timerDisplay').innerText=`${min}:${sec}`;
}
displayPomodoro();

// QUIZ
let quiz = JSON.parse(localStorage.getItem('quiz')) || [];
function addQuiz(){
  const q = document.getElementById('quizQuestion').value;
  const a = document.getElementById('quizAnswer').value;
  if(q && a){
    quiz.push({q,a});
    localStorage.setItem('quiz', JSON.stringify(quiz));
    document.getElementById('quizQuestion').value='';
    document.getElementById('quizAnswer').value='';
    displayQuiz();
  }
}
function displayQuiz(){
  const container = document.getElementById('quizList');
  container.innerHTML='';
  quiz.forEach((q,i)=>{
    const div = document.createElement('div');
    div.className='quiz-question';
    div.innerHTML=`Q: ${q.q} - R: ${q.a}`;
    container.appendChild(div);
  });
}
displayQuiz();

// DICTIONNAIRE SIMPLIFIÉ
function searchWord(){
  const word = document.getElementById('dictWord').value;
  if(word){
    document.getElementById('dictResult').innerText = `Résultat simulé pour "${word}" (intégrer API réelle pour plus tard)`;
  }
}
</script>
</body>
</html>
